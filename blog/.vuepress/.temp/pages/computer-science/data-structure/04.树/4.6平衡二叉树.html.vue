<template><div><h1 id="_4-6-平衡二叉树" tabindex="-1"><a class="header-anchor" href="#_4-6-平衡二叉树" aria-hidden="true">#</a> 4.6 平衡二叉树</h1>
<h2 id="_4-6-1-平衡二叉树的定义" tabindex="-1"><a class="header-anchor" href="#_4-6-1-平衡二叉树的定义" aria-hidden="true">#</a> 4.6.1 平衡二叉树的定义</h2>
<p><code v-pre>平衡二叉树</code>,又被称为<code v-pre>AVL树</code>（有别于AVL算法），且具有以下性质：</p>
<p>它是一 棵空树或它的左右两个子树的高度差的绝对值不超过1，并且左右两个子树都是一棵平衡二叉树。</p>
<p>AVL是两个人的名字，ASL是平均查找长度，不一样</p>
<p><code v-pre>结点的平衡因子=左子树高-右子树高</code></p>
<p>平衡二叉树结点的平衡因子的值只可能是-1、0、1。</p>
<figure><img src="/images/datastruct//805461-20160127214903223-1113949071.jpg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure>
<h2 id="_4-6-2-平衡二叉树的存储结构-用链式存储" tabindex="-1"><a class="header-anchor" href="#_4-6-2-平衡二叉树的存储结构-用链式存储" aria-hidden="true">#</a> 4.6.2 平衡二叉树的存储结构（用链式存储）</h2>
<p>平衡二叉树的类型表述（与二叉树不一样）</p>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">AVLNode</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> key<span class="token punctuation">;</span>      <span class="token comment">//数据域</span>
    <span class="token keyword">int</span> balance<span class="token punctuation">;</span>  <span class="token comment">//平衡因子</span>
	<span class="token keyword">struct</span> <span class="token class-name">AVLNode</span> <span class="token operator">*</span>lchide<span class="token punctuation">,</span> <span class="token operator">*</span>rchild<span class="token punctuation">;</span> <span class="token comment">//左、右孩子指针</span>
<span class="token punctuation">}</span>AVLNode<span class="token punctuation">,</span> <span class="token operator">*</span>AVLTree<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-6-3-平衡二叉树的插入" tabindex="-1"><a class="header-anchor" href="#_4-6-3-平衡二叉树的插入" aria-hidden="true">#</a> 4.6.3 平衡二叉树的插入</h2>
<p>在平衡的二叉排序树中插入一个结点导致不平衡，如何调整平衡？
解决方法：调整<code v-pre>“最小不平衡树”</code></p>
<p>四种调整方法：</p>
<ul>
<li>①LL：在A的<code v-pre>左孩子的左子树</code>中插入导致A的不平衡，将A的<code v-pre>左孩子右上旋</code>。</li>
<li>②RR：在A的<code v-pre>右孩子的右子树</code>中插入导致A的不平衡，将A的<code v-pre>右孩子左上旋</code>。</li>
<li>③LR：在A的<code v-pre>左孩子的右子树</code>中插入导致A的不平衡，将A的<code v-pre>左孩子的右孩子，先左上旋再右上旋</code>。</li>
<li>④RL：在A的<code v-pre>右孩子的左子树</code>中插入导致A的不平衡，将A的<code v-pre>右孩子的左孩子，先右上旋再左上旋</code>。</li>
</ul>
<h2 id="_4-6-4-查找效率分析" tabindex="-1"><a class="header-anchor" href="#_4-6-4-查找效率分析" aria-hidden="true">#</a> 4.6.4 查找效率分析</h2>
<p><code v-pre>平均查找的时间复杂度</code>=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mn>2</mn><mtext> </mtext><mi>h</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log~2~h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace nobreak"> </span><span class="mord">2</span><span class="mspace nobreak"> </span><span class="mord mathnormal">h</span><span class="mclose">)</span></span></span></span></p>
<h2 id="_4-6-5-高度为h的平衡二叉树的最少结点数" tabindex="-1"><a class="header-anchor" href="#_4-6-5-高度为h的平衡二叉树的最少结点数" aria-hidden="true">#</a> 4.6.5 高度为h的平衡二叉树的最少结点数</h2>
<p><code v-pre>递推公式</code>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>h</mi></msub><mo>=</mo><msub><mi>n</mi><mrow><mi>h</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>n</mi><mrow><mi>h</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n_h=n_{h-1}+n_{h-2}+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
</div></template>



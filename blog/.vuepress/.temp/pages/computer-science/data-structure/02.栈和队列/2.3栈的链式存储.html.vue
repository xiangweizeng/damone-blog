<template><div><h1 id="_2-3-栈的链式存储" tabindex="-1"><a class="header-anchor" href="#_2-3-栈的链式存储" aria-hidden="true">#</a> 2.3 栈的链式存储</h1>
<h2 id="_2-3-1-链栈的定义" tabindex="-1"><a class="header-anchor" href="#_2-3-1-链栈的定义" aria-hidden="true">#</a> 2.3.1 链栈的定义</h2>
<p><code v-pre>链栈</code>：栈的<code v-pre>链式存储</code>。</p>
<h2 id="_2-3-2-链栈的实现方式" tabindex="-1"><a class="header-anchor" href="#_2-3-2-链栈的实现方式" aria-hidden="true">#</a> 2.3.2 链栈的实现方式</h2>
<p>实现方式：<code v-pre>不带头结点</code>和<code v-pre>带头结点</code>，一般带头结点比不带头结点好</p>
<p>不带头结点：写操作代码麻烦，要区分第一个数据和后续数据的处理</p>
<p>带头结点：写操作代码方便，一般用带头结点，不明确的都是带头结点的</p>
<p><code v-pre>注</code>：这两种方式：只有类型描述一样，初始化不一样，</p>
<p>​           判空、入栈、出栈、取栈顶元素不一样，不带头节点是s，带头结点是s-&gt;next，因为链栈以<code v-pre>链头</code>为<code v-pre>栈顶</code></p>
<h2 id="_2-3-3-不带头结点的链栈上的操作-与不带头结点的单链表一样" tabindex="-1"><a class="header-anchor" href="#_2-3-3-不带头结点的链栈上的操作-与不带头结点的单链表一样" aria-hidden="true">#</a> 2.3.3 不带头结点的链栈上的操作（与不带头结点的单链表一样）</h2>
<p><code v-pre>链头</code>为<code v-pre>栈顶</code></p>
<h2 id="链栈的类型描述" tabindex="-1"><a class="header-anchor" href="#链栈的类型描述" aria-hidden="true">#</a> 链栈的类型描述</h2>
<div class="language-C line-numbers-mode" data-ext="C"><pre v-pre class="language-C"><code>typedef struct LNode{    //定义单链表结点类型
	int data;            //数据域，可以是别的各种数据类型，本文统一用int类型
	struct LNode *next;  //指针域
}LNode, *LinkStack;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="初始化" tabindex="-1"><a class="header-anchor" href="#初始化" aria-hidden="true">#</a> 初始化</h2>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code><span class="token comment">//初始化</span>
<span class="token keyword">void</span> <span class="token function">InitStack</span><span class="token punctuation">(</span>LinkStack <span class="token operator">&amp;</span>S<span class="token punctuation">)</span><span class="token punctuation">{</span>
    S <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    S<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="判栈空" tabindex="-1"><a class="header-anchor" href="#判栈空" aria-hidden="true">#</a> 判栈空</h2>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code><span class="token comment">//判空操作</span>
bool <span class="token function">StackEmpty</span><span class="token punctuation">(</span>LinkStack S<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>S <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> true<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="入栈-与单链表插入一样" tabindex="-1"><a class="header-anchor" href="#入栈-与单链表插入一样" aria-hidden="true">#</a> 入栈（与单链表插入一样）</h2>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code>bool <span class="token function">push</span><span class="token punctuation">(</span>LNode <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    LNode <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span>LNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    p<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    p<span class="token operator">-></span>data <span class="token operator">=</span> x<span class="token punctuation">;</span>
    p<span class="token operator">-></span>next <span class="token operator">=</span> s<span class="token punctuation">;</span>
    s <span class="token operator">=</span> p<span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="出栈-与单链表删除一样" tabindex="-1"><a class="header-anchor" href="#出栈-与单链表删除一样" aria-hidden="true">#</a> 出栈（与单链表删除一样）</h2>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code>bool <span class="token function">Delete</span><span class="token punctuation">(</span>LNode <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    LNode <span class="token operator">*</span>q <span class="token operator">=</span> s<span class="token punctuation">;</span>
    s<span class="token operator">-></span>data <span class="token operator">=</span> q<span class="token operator">-></span>data
    s <span class="token operator">=</span> q<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="获取栈顶元素-与单链表删除一样" tabindex="-1"><a class="header-anchor" href="#获取栈顶元素-与单链表删除一样" aria-hidden="true">#</a> 获取栈顶元素（与单链表删除一样）</h2>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code><span class="token comment">//获取栈顶元素e</span>
bool <span class="token function">GetTop</span><span class="token punctuation">(</span>LNode <span class="token operator">&amp;</span>s<span class="token punctuation">,</span>Elemtype <span class="token operator">&amp;</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>
	e <span class="token operator">=</span> s<span class="token operator">-></span>data<span class="token punctuation">;</span>
	<span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-3-4-带头结点的链栈上的操作" tabindex="-1"><a class="header-anchor" href="#_2-3-4-带头结点的链栈上的操作" aria-hidden="true">#</a> 2.3.4 带头结点的链栈上的操作</h2>
<p>s都改为s-&gt;next，类型描述和初始化例外</p>
<h2 id="链栈的类型描述-1" tabindex="-1"><a class="header-anchor" href="#链栈的类型描述-1" aria-hidden="true">#</a> 链栈的类型描述</h2>
<div class="language-C line-numbers-mode" data-ext="C"><pre v-pre class="language-C"><code>typedef struct LNode{    //定义单链表结点类型
	int data;            //数据域，可以是别的各种数据类型，本文统一用int类型
	struct LNode *next;  //指针域
}LNode, *LinkStack;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="初始化-1" tabindex="-1"><a class="header-anchor" href="#初始化-1" aria-hidden="true">#</a> 初始化</h2>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code><span class="token comment">//初始化</span>
<span class="token keyword">void</span> <span class="token function">InitStack</span><span class="token punctuation">(</span>LinkStack <span class="token operator">&amp;</span>S<span class="token punctuation">)</span><span class="token punctuation">{</span>
    S <span class="token operator">=</span> <span class="token punctuation">(</span>LNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    S<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="判栈空-1" tabindex="-1"><a class="header-anchor" href="#判栈空-1" aria-hidden="true">#</a> 判栈空</h2>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code>bool <span class="token function">StackEmpty</span><span class="token punctuation">(</span>LinkStack S<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>S<span class="token operator">-></span>next <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> true<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="入栈-与单链表插入一样-1" tabindex="-1"><a class="header-anchor" href="#入栈-与单链表插入一样-1" aria-hidden="true">#</a> 入栈（与单链表插入一样）</h2>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code>bool <span class="token function">push</span><span class="token punctuation">(</span>LNode <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    LNode <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span>LNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    p<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    p<span class="token operator">-></span>data <span class="token operator">=</span> x<span class="token punctuation">;</span>
    p<span class="token operator">-></span>next <span class="token operator">=</span> s<span class="token operator">-></span>next<span class="token punctuation">;</span>
    s<span class="token operator">-></span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="出栈-与单链表删除一样-1" tabindex="-1"><a class="header-anchor" href="#出栈-与单链表删除一样-1" aria-hidden="true">#</a> 出栈（与单链表删除一样）</h2>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code>bool <span class="token function">Delete</span><span class="token punctuation">(</span>LNode <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    LNode <span class="token operator">*</span>q <span class="token operator">=</span> s<span class="token operator">-></span>next<span class="token punctuation">;</span>
    s<span class="token operator">-></span>data <span class="token operator">=</span> q<span class="token operator">-></span>data
    s<span class="token operator">-></span>next <span class="token operator">=</span> q<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="获取栈顶元素" tabindex="-1"><a class="header-anchor" href="#获取栈顶元素" aria-hidden="true">#</a> 获取栈顶元素</h2>
<div class="language-c line-numbers-mode" data-ext="c"><pre v-pre class="language-c"><code><span class="token comment">//获取栈顶元素e</span>
bool <span class="token function">GetTop</span><span class="token punctuation">(</span>LNode <span class="token operator">&amp;</span>s<span class="token punctuation">,</span>Elemtype <span class="token operator">&amp;</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">-></span>next <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>
	e <span class="token operator">=</span> s<span class="token operator">-></span>next<span class="token operator">-></span>data<span class="token punctuation">;</span>
	<span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>


